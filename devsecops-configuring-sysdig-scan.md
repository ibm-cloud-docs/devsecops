---

copyright: 
  years: 2023, 2023
lastupdated: "2023-06-22"

keywords: DevSecOps, sysdig, vulnerability-advisor, IBM Cloud

subcollection: devsecops

---

{{site.data.keyword.attribute-definition-list}}

# Configuring Sysdig image scanning
{: #devsecops-sysdig-scan}

The Sysdig script runs the Sysdig inline scanner in your DevSecOps pipeline and collects evidence based on the scan results.
{: shortdesc}

 The Sysdig inline scanner scan runs for each image in the saved artifacts `list_artifacts` method. see [list_artifacts](/docs/devsecops?topic=devsecops-devsecops-pipelinectl##list_artifacts) documentation.
 This is run as a part of scan-artifact stage.

The script runs the sysdig inline scanner image scan on the given image and uploads the results to the given sysdig url instance. 

To create a sysdig instance in IBM cloud please have a look at [Sysdig secure workload protection](/docs/workload-protection?topic=workload-protection-provision).

### Required Sysdig scan parameters
{: #devsecops-sysdig-scan-params-req}

| Parameter name | Description |
|-|-|
| `sysdig-scan` |  Set this parameter to an enum value 0 or 1 and if set to 1 , sysdig scan will be called. |
| `sysdig-api-token` | Set this to a secret value which needs to be set to Sysdig API token, visible from the Sysdig instance User Profile page. |
{: caption="Table 1. Required Sysdig scan parameters" caption-side="top"}

### Optional Sysdig scan parameters
{: #devsecops-sysdig-scan-params-opt}

| Parameter name | Default value | Description |
|-|-|-|
| `sysdig_url` | `https://secure.sysdig.com` (property is not set)| The url of the sysdig instance to be used for the scan. This value needs to be provided if any other sysdig instance is being used. |
| `sysdig-inline-scanner-image` | `quay.io/sysdig/secure-inline-scan:2` (property is not set)| Enter the sysdig inline scanner image to be used for the scan.|
| `cr-ibmcloud-api-key` | | Overrides `ibmcloud-api-key` if provided, for pulling the image from container registry for sysdig scan.|
{: caption="Table 2. Optional Sysdig scan parameters" caption-side="top"}

## Evidence and attachments
{: #devsecops-sysdig-evid-attach}



The created evidence is based on the values in table 3. The DevSecOps pipeline uploads evidence to the locker and includes the evidence in the evidence summary for Change Requests.

| field | value | 
| ----- | ----- |
| tool type     | `sysdig` |
| evidence type | `com.ibm.code_vulnerability_scan` |
| asset type    | `artifact` |
| attachments   | `scan report generated by the sysdig inline scanner in JSON` |
| attachments   | `processed scan report containing an array of vulnerabilities filtering out the ignored vulnerailities - in JSON` |
{: caption="Table 3. Evidence fields and values" caption-side="top"}

## Debugging and logging
{: #devsecops-sysdig-scan-debug-log}

| Parameter name | Default value | Description |
|-|-|-|
| pipeline-debug | 0 | Debug flag 0 off 1 on | 
{: caption="Table 4. Debug parameters" caption-side="top"}

## Accessing your scan results
{: #devsecops-sysdig-acc-results}

You can access your scan results using any of the following methods:

- Viewing them on the Sysdig UI.
- Using the [DevSecOps/CoCoa CLI](/docs/devsecops?topic=devsecops-cd-devsecops-cli) command line tool to download your scan results from the evidence locker by using the information printed in the stage log.  For more information see the following resources:
   - [`cocoa locker evidence get`](/docs/devsecops?topic=devsecops-cd-devsecops-cli#locker-evidence-get)
   - [`cocoa locker attachment get`](/docs/devsecops?topic=devsecops-cd-devsecops-cli#locker-attachment-get)

## Related links
{: #devsecops-sysdig-links}
   - [`Security and Compliance Center Workload Protection`](/docs/workload-protection?topic=workload-protection-launch)
   - [`Sysdig Secure documentation`](https://cloud.ibm.com/docs/workload-protection?topic=workload-protection-sysdig_doc)
